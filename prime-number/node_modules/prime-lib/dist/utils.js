"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.stopOnValue = exports.stopOnCount = exports.stopWhen = void 0;
/**
 * Stops an iterator when the callback returns a truthy value.
 */
function stopWhen(iterator, cb) {
    return {
        [Symbol.iterator]() {
            let index = 0;
            return {
                next() {
                    const a = iterator.next();
                    if (a.done || cb(a.value, index++)) {
                        return { value: undefined, done: true };
                    }
                    return a;
                }
            };
        }
    };
}
exports.stopWhen = stopWhen;
/**
 * Stops an iterator, once the count is reached.
 */
function stopOnCount(iterator, count) {
    return stopWhen(iterator, (value, index) => index >= count);
}
exports.stopOnCount = stopOnCount;
/**
 * Stops an iterator, upon exceeding a maximum value.
 */
function stopOnValue(iterator, maxValue) {
    return stopWhen(iterator, (value) => value > maxValue);
}
exports.stopOnValue = stopOnValue;
